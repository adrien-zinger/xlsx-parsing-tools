{"version":3,"sources":["../../src/json-cleaner/expanse-dots.js"],"names":["expanseDots","containDot","str","i","length","obj","ret","Object","keys","key","pre","slice","suf","undefined"],"mappings":";;;;;qBAKwBA,W;;AALxB,SAASC,UAAT,CAAoBC,GAApB,EAAyB;AACvB,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,GAAG,CAACE,MAAxB,EAAgC,EAAED,CAAlC;AAAqC,QAAID,GAAG,CAACC,CAAD,CAAH,KAAW,GAAf,EAAoB,OAAOA,CAAP;AAAzD;;AACA,SAAO,CAAC,CAAR;AACD;;AAEc,SAASH,WAAT,CAAqBK,GAArB,EAA0B;AACvC,MAAMC,GAAG,GAAG,EAAZ;;AACA,kCAAkBC,MAAM,CAACC,IAAP,CAAYH,GAAZ,CAAlB,kCAAoC;AAA/B,QAAMI,GAAG,mBAAT;AACH,QAAMN,CAAC,GAAGF,UAAU,CAACQ,GAAD,CAApB;;AACA,QAAIN,CAAC,GAAG,CAAR,EAAW;AACT,UAAMO,GAAG,GAAGD,GAAG,CAACE,KAAJ,CAAU,CAAV,EAAaR,CAAb,CAAZ;AACA,UAAMS,GAAG,GAAGH,GAAG,CAACE,KAAJ,CAAUR,CAAC,GAAG,CAAd,CAAZ;AACA,UAAIG,GAAG,CAACI,GAAD,CAAH,KAAaG,SAAjB,EAA4BP,GAAG,CAACI,GAAD,CAAH,GAAW,EAAX;;AAC5B,UAAIL,GAAG,CAACI,GAAD,CAAH,YAAoBF,MAAxB,EAAgC;AAC9BD,QAAAA,GAAG,CAACI,GAAD,CAAH,CAASE,GAAT,IAAgBZ,WAAW,CAACK,GAAG,CAACI,GAAD,CAAJ,CAA3B;AACD,OAFD,MAEO;AACLH,QAAAA,GAAG,CAACI,GAAD,CAAH,CAASE,GAAT,IAAgBP,GAAG,CAACI,GAAD,CAAnB;AACD;AACF,KATD,MASO;AACL,UAAIJ,GAAG,CAACI,GAAD,CAAH,YAAoBF,MAAxB,EAAgC;AAC9BD,QAAAA,GAAG,CAACG,GAAD,CAAH,GAAWT,WAAW,CAACK,GAAG,CAACI,GAAD,CAAJ,CAAtB;AACD,OAFD,MAEO;AACLH,QAAAA,GAAG,CAACG,GAAD,CAAH,GAAWJ,GAAG,CAACI,GAAD,CAAd;AACD;AACF;AACF;;AACD,SAAOH,GAAP;AACD","sourcesContent":["function containDot(str) {\n  for (let i = 0; i < str.length; ++i) if (str[i] === \".\") return i\n  return -1\n}\n\nexport default function expanseDots(obj) {\n  const ret = {}\n  for (const key of Object.keys(obj)) {\n    const i = containDot(key)\n    if (i > 0) {\n      const pre = key.slice(0, i)\n      const suf = key.slice(i + 1)\n      if (ret[pre] === undefined) ret[pre] = {}\n      if (obj[key] instanceof Object) {\n        ret[pre][suf] = expanseDots(obj[key])\n      } else {\n        ret[pre][suf] = obj[key]\n      }\n    } else {\n      if (obj[key] instanceof Object) {\n        ret[key] = expanseDots(obj[key])\n      } else {\n        ret[key] = obj[key]\n      }\n    }\n  }\n  return ret\n}\n"],"file":"expanse-dots.js"}